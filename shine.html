<html lang="en">
<head>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-S04TDCD5MG"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-S04TDCD5MG');
  </script>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>STG _v.Shine</title>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.1.9/p5.js"></script>
  <script src="https://unpkg.com/p5.js-svg@1.5.1"></script>
  <script src="https://unpkg.com/h264-mp4-encoder/embuild/dist/h264-mp4-encoder.web.js"></script>
  
  <link rel="stylesheet" href="style_shine.css">
  <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
  <script src="sketch_shine.js" type="text/javascript"></script>
  <script src="shine_script/update.js" type="text/javascript"></script>
  <script src="shine_script/textures.js" type="text/javascript"></script>
  <script src="shine_script/animators.js" type="text/javascript"></script>
  <script src="shine_script/recording.js" type="text/javascript"></script>

  <script src="shine_script/class_spoke.js" type="text/javascript"></script>

  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@300&display=swap" rel="stylesheet">

  <style> body {padding: 0; margin: 0;} canvas {vertical-align: top;} </style>
</head>

<body>
  <div id="widget">

    <div class="dropdown">
      <button class="dropbtn">Select...</button>
      <div class="dropdown-content">
          <a href="index.html">CYLINDER</a>
          <a href="field.html">FIELD</a>
          <a href="stripes.html">STRIPES</a>
          <a href="coil.html">COIL</a>
          <a href="flag.html">FLAG</a>
          <a href="morisawa.html">MORISAWA</a>
          <a href="cascade.html">CASCADE</a>
          <a href="ribbon.html">RIBBON</a>
          <a href="layers.html">LAYERS</a>
          <a href="danger.html">DANGER</a>
          <a href="string.html">STRING</a>
          <a href="badge.html">BADGE</a>
          <a href="clutter.html">CLUTTER</a>
          <a href="construct.html">CONSTRUCT</a>
          <a href="snap.html">SNAP</a>
          <a href="flash.html">FLASH</a>
          <a href="pow.html">POW</a>
          <a href="crash.html">CRASH</a>
          <a href="crashClock.html">CRASH CLOCK</a>
          <a href="vessel.html">VESSEL</a>
          <a href="shine.html">SHINE</a>
      </div>
    </div>

    <div id="generatorInput">
      <div class="titleh2">
        <h2>STG v.Shine</h2>
        <p>a kinetic generator from <a href="https://www.instagram.com/kiel.d.m/" target="_blank">kielm</a></p>
        <div class="popup" onclick="myFunction()">Readme and Support!
          <span class="popuptext" id="myPopup">
            Shine 1.0
            <br>
            <br>Consider supporting STG by <br> <a href="https://www.buymeacoffee.com/kieldm" target="_blank">Buying Me A Coffee</a>
            <br>
            <br>Use for anything personal!
            <br>Give me a <a href="https://www.instagram.com/kiel.d.m/" target="_blank">tag</a> if possible.
            <br>
            <br>For commercial usage, <a href="mailto:kiel.d.m@gmail.com">email me.</a>
            <br>
            <br>Featuring fonts from <br><a href="https://www.zetafonts.com/" target="_blank">Zetafonts</a> (Heading Now, Milligram),<br>
            and <a href="https://pangrampangram.com/" target="_blank">Pangram Pangram</a>(Editorial New, NeueWorld)<br>
          </span>
        </div>
      </div>

      <button type="button" class="collapsible"><h1>TEXT</h1></button>
      <div class="content">
        <div class="module">         
          <textarea id="textArea" rows=4 oninput="setText()"></textarea>
          <select name="fontChange" id="fontChange" onchange="setFont(this.value)">
            <option value="0">Milligram - Heavy</option>
            <option value="1">Inter - Medium</option>
            <option value="2">Neue World - CondensedRegular</option>
            <option value="3">Editorial New - Regular</option>
            <option value="4" selected="selected">Heading Now - Bold Italic</option>
          </select>
          
          <div class="coupling1">
            <div class="coupling_label"><h3>Size</h3></div>
            <input type="range" class="ranger" min="0" max="100" value="75" id="scaler" oninput="setScaler(this.value)">
          </div>
        </div>
      </div>

      <div class="coupling2">
        <input type="checkbox" id="ranRunOn" name="ranRunOn" onclick="setRanRunOn()">
        <label class="coupling2_label" for="ranRunOn">Cycle Random</label>
      </div>

      <div class="coupling2">
        <input type="checkbox" id="allSlidersOn" name="allSlidersOn" onclick="setAllSlidersOn()" checked>
        <label class="coupling2_label" for="allSlidersOn">All The Sliders</label>
      </div>

      <!-- <select name="uiSelect" id="uiSelect" onchange="setUI(this.value)">
        <option value="0">Default</option>
        <option value="1">Random</option>
        <option value="2" selected="selected">All the Sliders</option>
      </select> -->

      <div id="allSliders">
        <button type="button" class="collapsible"><h1>STYLE</h1></button>
        <div class="content">
          <div class="module">
            <div class="coupling1" >
              <div class="coupling_label"><h3>Rays</h3></div>
              <input type="range" class="ranger" min="0" max="100" value="50" id="resLon" oninput="setResLon(this.value)">
            </div>

            <h4>FLUX SIZE</h4>
            <div class="coupling1" >
              <div class="coupling_label"><h3>Inside</h3></div>
              <input type="range" class="ranger" min="0" max="100" value="45" id="minFlux" oninput="setMinFlux(this.value)">
            </div>
            <div class="coupling1" >
              <div class="coupling_label"><h3>Outside</h3></div>
              <input type="range" class="ranger" min="0" max="100" value="60" id="maxFlux" oninput="setMaxFlux(this.value)">
            </div>
            <div class="coupling1" >
              <div class="coupling_label"><h3>Scatter</h3></div>
              <input type="range" class="ranger" min="0" max="100" value="25" id="randomFlux" oninput="setRandomFlux(this.value)">
            </div>

            <h4>COLOR</h4>
            <div class="coupling1">
              <div class="coupling_label"><h3>Bkgd</h3></div>
              <input type="color" id="bkgdColor" name="bkgdColor" value="#ffffff" oninput="setBkgdColor(this.value)">
            </div>

            <div id="singleColor">
              <div class="coupling1">
                <div class="coupling_label"><h3>Stroke</h3></div>
                <input type="color" id="foreColor" name="foreColor" value="#000000" oninput="setForeColor(this.value)">
              </div>
            </div>

            <div class="coupling1">
              <div class="coupling_label"><h3>Blend</h3></div>

              <select name="colorTypeChange" id="colorTypeChange" onchange="setColorType(this.value)">
                <option value="0" selected="selected">None</option>
                <option value="1">Triple</option>
                <option value="2">Quintuple</option>
              </select>
            </div>

            <div id="tripleColor">
              <div class="coupling1">
                <div class="coupling_label"><h3>Into</h3></div>
                <input type="color" id="triple0color" name="triple0color" value="#d90d43" oninput="setColorSet(0, this.value)">
                <input type="color" id="triple1color" name="triple1color" value="#164df2" oninput="setColorSet(1, this.value)">
                <input type="color" id="triple2color" name="triple2color" value="#f2b807" oninput="setColorSet(2, this.value)">
              </div>

              <div class="coupling1">
                <button type="button" class="randomPalette" onclick="generateRandomPalette()">RANDOM PALETTE</button>
              </div>
            </div>

            <div id="quintColor">
              <div class="coupling1">
                <div class="coupling_label"><h3>Into</h3></div>
                <input type="color" id="quint0color" name="quint0color" value="#d90d43" oninput="setColorSet(0, this.value)">
                <input type="color" id="quint1color" name="quint1color" value="#164df2" oninput="setColorSet(1, this.value)">
                <input type="color" id="quint2color" name="quint2color" value="#f2b807" oninput="setColorSet(2, this.value)">
                <input type="color" id="quint3color" name="quint3color" value="#078c4e" oninput="setColorSet(3, this.value)">
                <input type="color" id="quint4color" name="quint4color" value="#f2a007" oninput="setColorSet(4, this.value)">
              </div>

              <div class="coupling1">
                <button type="button" class="randomPalette" onclick="generateRandomPalette()">RANDOM PALETTE</button>
              </div>
            </div>

            <h4>STROKE</h4>
            <div class="coupling1">
              <label class="coupling_label" for="taperOn">Taper</label>
              <input type="checkbox" id="taperOn" name="taperOn" checked onclick="setTaperOn()">
            </div>

            <div id="swStraight">
              <div class="coupling1" >
                <div class="coupling_label"><h3>Weight</h3></div>
                <input type="range" class="ranger" min="0" max="100" value="33" id="baseSW" oninput="setBaseSW(this.value)">
              </div>
            </div>

            <div id="swTaper">
              <div class="coupling1">
                <div class="coupling_label"><h3>Inside</h3></div>
                <input type="range" class="ranger" min="0" max="100" value="0" id="minSW" oninput="setMinSW(this.value)">
              </div>

              <div class="coupling1">
                <div class="coupling_label"><h3>Outside</h3></div>
                <input type="range" class="ranger" min="0" max="100" value="50" id="maxSW" oninput="setMaxSW(this.value)">
              </div>
            </div>
          </div>
        </div>

        <button type="button" class="collapsible"><h1>ACCELERATION</h1></button>
        <div class="content">
          <div class="module">
            <div class="accelModule">
              <h4>INTRO STAGE</h4>
              <div class="selectPair">
                <select name="stageAstrength" class="stageSelect" id="stageAstrength" onchange="setStageAstrength(this.value)">
                  <option value="0">Sine</option>
                  <option value="1">Cubic</option>
                  <option value="2">Circ</option>
                  <option value="3" selected="selected">Expo</option>
                  <option value="4">Back</option>
                  <option value="5">Bounce</option>
                  <option value="6">Elastic</option>
                </select>
    
                <select name="stageAdirect" class="stageSelect" id="stageAdirect" onchange="setStageAdirect(this.value)">
                  <option value="0">In</option>
                  <option value="1" selected="selected">Out</option>
                  <option value="2">In & Out</option>
                </select>
              </div>    
    
              <div class="coupling1">
                <div class="coupling_label"><h3>Length</h3></div>
                <input type="range" class="ranger" min="0" max="100" value="60" id="stageAlength" oninput="setStageAlength(this.value)">
              </div>      
            </div> 
            
            <div class="accelModule">
              <h4>OUTRO STAGE</h4>
              <div class="selectPair">
                <select name="stageBstrength" class="stageSelect"  id="stageBstrength" onchange="setStageBstrength(this.value)">
                  <option value="0">Sine</option>
                  <option value="1">Cubic</option>
                  <option value="2">Circ</option>
                  <option value="3" selected="selected">Expo</option>
                  <option value="4">Back</option>
                  <option value="5">Bounce</option>
                  <option value="6">Elastic</option>
                </select>
    
                <select name="stageBdirect" class="stageSelect" id="stageBdirect" onchange="setStageBdirect(this.value)">
                  <option value="0" selected="selected">In</option>
                  <option value="1">Out</option>
                  <option value="2">In & Out</option>
                </select>
              </div>    
    
              <div class="coupling1">
                <div class="coupling_label"><h3>Length</h3></div>
                <input type="range" class="ranger" min="0" max="100" value="30" id="stageBlength" oninput="setStageBlength(this.value)">
              </div>
            </div>  

            <!-- <div class="accelModule">
              <h4>PAUSE</h4>
              <div class="coupling1">
                <div class="coupling_label"><h3>Length</h3></div>
                <input type="range" class="ranger" min="0" max="100" value="60" id="pauseLength" oninput="setPauseLength(this.value)">
              </div>
            </div> -->

            <div class="coupling1">
              <div class="coupling_label"><h3>Pause</h3></div>
              <input type="range" class="ranger" min="0" max="100" value="60" id="pauseLength" oninput="setPauseLength(this.value)">
            </div>

            <div class="coupling1">
              <div class="coupling_label"><h3>Delay</h3></div>
              <input type="range" class="ranger" min="0" max="100" value="30" id="delay" oninput="setDelay(this.value)">
            </div>
          </div>
        </div>

        <button type="button" class="collapsible"><h1>SCRUB</h1></button>
        <div class="content">
          <div class="module">
            <div class="coupling1">
              <label class="coupling_label" for="scrubOn">Enable</label>
              <input type="checkbox" id="scrubOn" name="scrubOn" onclick="setScrubOn()">
            </div>

            <div class="coupling1" id ="scrubSlider">
              <div class="coupling_label"><h3>Scrub</h3></div>
              <input type="range" class="ranger" min="0" max="100" value="0" id="scrubVal" oninput="setScrubVal(this.value)">
            </div>
          </div>
        </div>
      </div>

      <button type="button" class="collapsible"><h1>EXPORT</h1></button>
      <div class="content">
        <div class="coupling3">
          <div class="couplingEntry">
            <input type="radio" id="window" name="saveSize" value=0 onclick="sizeSaveChange(this.value)" checked>
            <label for="window">Window Size</label>
          </div>
          <div class="couplingEntry">
            <input type="radio" id="vert" name="saveSize" value=1 onclick="sizeSaveChange(this.value)">
            <label for="vert">Vertical, 9:16</label>
          </div>
          <div class="couplingEntry">
            <input type="radio" id="squa" name="saveSize" value=2 onclick="sizeSaveChange(this.value)">
            <label for="squa">Square, 1:1</label>
          </div>
        </div>

        <div class="coupling1">
          <button type="button" class="saveSVGbutton" onclick="runSVGsave()">SAVE SVG</button>
        </div>
        <div class="coupling1">
          <button type="button" class="saveJPGbutton" onclick="runJPGsave()">SAVE JPG</button>
        </div>
        <div class="coupling1">
          <button type="button" class="saveMP4button" onclick="runSave()">RECORD MP4</button>
        </div>
        <div class="coupling1">
          <div id="recStatus">
            <p>RECORDING IN PROCESS <br><span id="recTicker"></span>/<span id="numFrame"></span></p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- <input type="text" value="SPOOKY ACTION" id="text0" oninput="setText(this.value)"> -->

  <div>
    <label class="switch">
      <input type="checkbox" checked oninput="hideWidget()">
      <span class="slider round"></span>
    </label>
  </div>

  <script>
    // When the user clicks on <div>, open the popup
    function myFunction() {
      var popup = document.getElementById("myPopup");
      popup.classList.toggle("show");
    }

    document.getElementById('generatorInput').addEventListener('mouseenter', function() {
      pausePop = true; 
    });

    document.getElementById('generatorInput').addEventListener('mouseleave', function() {
      pausePop = false;
    });
  </script>

  <script>
    var coll = document.getElementsByClassName("collapsible");
    var i;
  
    for (i = 0; i < coll.length; i++) {
      coll[i].addEventListener("click", function() {
        this.classList.toggle("active");
        var content = this.nextElementSibling;
        if (content.style.display === "block") {
          content.style.display = "none";
        } else {
          content.style.display = "block";
        }
      });
    }
  </script>
</body>

</html>
